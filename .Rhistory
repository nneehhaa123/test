library(openxlsx)
library(lubridate)
library(zoo)
library(timeDate)
library(janitor)
library(data.table)
require(stringr)
PSM1 <- read.xlsx("KPMG PSM datasets_v1.xlsx")
PSM <- melt(PSM1, id.vars = c("Category","Product.code", "Padd" ))
colnames(PSM) <- c("Category","Product.code", "Padd", "Date","PSM_Volume")
PSM$Date <- excel_numeric_to_date(as.numeric(as.character(PSM$Date)))
PSM$my <- format(PSM$Date, "%m-%Y")
PSM$PSM_Volume <- as.integer(PSM$PSM_Volume)
PSM$Category <- trimws(PSM$Category, which = "both")
PSM$Product.code <- trimws(PSM$Product.code, which = "both")
PSM$Padd <- trimws(PSM$Padd, which = "both")
###UAB data
UAB1 <- read.xlsx("KPMG UAB datasets2_v1.xlsx")
UAB <- melt(UAB1, id.vars = c("Category","Product.code","children(new.pc)", "Padd" ))
colnames(UAB) <- c("Category","Product.code","Child", "Padd", "Date","UAB_Volume")
UAB$Date <- excel_numeric_to_date(as.numeric(as.character(UAB$Date)))
UAB$my <- format(UAB$Date, "%m-%Y")
UAB$UAB_Volume <- as.integer(UAB$UAB_Volume)
UAB$Category <- trimws(UAB$Category, which = "both")
UAB$Product.code <- trimws(UAB$Product.code, which = "both")
UAB$Padd <- trimws(UAB$Padd, which = "both")
setwd("C:/Users/nehagupta13/Projects/Kaggle_credit_risk")
library(tidyverse)
library(xgboost)
library(magrittr)
set.seed(0)
inst_payment <- read_csv("./input/installments_payments.csv") %>%
mutate_if(is.character, funs(factor(.) %>% as.integer()))
